security_scan:
  stage: test
  script:
    - echo "üîç Starting Security Scan..."
    # Update packages and install required tools
    - apt-get update && apt-get install -y curl unzip tar nodejs
    # If you have npm packages, uncomment the next line
    # - npm install
    # Run your security scan script
    - node index.js
    - echo "‚úÖ Scan complete."
  artifacts:
    paths:
      - scan-results.json
    expire_in: 7 days
  cache:
    key: npm-cache-$CI_COMMIT_REF_SLUG
    paths:
      - node_modules/
  rules:
    - when: always
